{"version":3,"file":"build.js","sources":["src/main.js"],"sourcesContent":["const app = new PIXI.Application({\r\n    width: 1000,\r\n    height: 800,\r\n    backgroundColor: 0x3e81bb,\r\n})\r\nconst renderer = app.renderer\r\nconst game = document.getElementById('game')\r\nlet sea, me\r\nrenderer.autoResize = true;\r\ngame.appendChild(app.view)\r\nonResize()\r\n\r\nPIXI.loader\r\n    .add(\"images/me.png\")\r\n    .add(\"images/sea.jpg\")\r\n    .load(setup)\r\n\r\n\r\nwindow.addEventListener('resize', onResize)\r\nwindow.addEventListener('orientationChange', onResize)\r\n\r\nfunction setup() {\r\n    sea = new PIXI.extras.TilingSprite(\r\n        PIXI.loader.resources[\"images/sea.jpg\"].texture,\r\n        app.renderer.width,\r\n        app.renderer.height\r\n    )\r\n    me = new PIXI.Sprite(\r\n        PIXI.loader.resources[\"images/me.png\"].texture\r\n    )\r\n    me.anchor.set(0.5)\r\n    me.x = app.renderer.width >> 1\r\n    me.y = app.renderer.height >> 1\r\n    me.vx = 0\r\n    me.vy = 0\r\n\r\n    app.stage.addChild(sea)\r\n    app.stage.addChild(me)\r\n\r\n    app.ticker.add(t => {\r\n        sea.tilePosition.y += 3\r\n        me.x += me.vx\r\n        me.y += me.vy\r\n    })\r\n\r\n    me.vx = 0\r\n\r\n    app.down = false\r\n    app.downPo = {}\r\n    app.mouse = {}\r\n    app.stage.interactive = true\r\n    app.stage.on('pointerdown', e => {\r\n        if (app.down) {\r\n            return\r\n        }\r\n        app.down = true\r\n        app.downPo.x = e.data.global.x\r\n        app.downPo.y = e.data.global.y\r\n    })\r\n\r\n    app.stage.on('pointermove', e => {\r\n        app.mouse.x = e.data.global.x\r\n        app.mouse.y = e.data.global.y\r\n        if (app.down) {\r\n            let xd = app.mouse.x - app.downPo.x\r\n            let yd = app.mouse.y - app.downPo.y\r\n            me.vx = Math.atan(xd / 100) * 10\r\n            me.vy = Math.atan(yd / 100) * 10\r\n        } else {\r\n            me.vx = 0\r\n            me.vy = 0\r\n        }\r\n    })\r\n\r\n    app.stage.on('pointerup', () => {\r\n        app.down = false\r\n        me.vx = 0\r\n        me.vy = 0\r\n    })\r\n}\r\n\r\n\r\n\r\nfunction onResize() {\r\n    renderer.resize(window.innerWidth, window.innerHeight)\r\n    game.style.width = window.innerWidth + 'px'\r\n    game.style.height = window.innerHeight + 'px'\r\n    if (!sea) return\r\n    sea.width = window.innerWidth\r\n    sea.height = window.innerHeight\r\n}"],"names":["app","PIXI","Application","renderer","game","document","getElementById","sea","me","autoResize","appendChild","view","onResize","loader","add","load","setup","window","addEventListener","extras","TilingSprite","resources","texture","width","height","Sprite","anchor","set","x","y","vx","vy","stage","addChild","ticker","tilePosition","down","downPo","mouse","interactive","on","e","data","global","xd","yd","Math","atan","resize","innerWidth","innerHeight","style"],"mappings":";;;;AAAA,IAAMA,MAAM,IAAIC,KAAKC,WAAT,CAAqB;WACtB,IADsB;YAErB,GAFqB;qBAGZ;CAHT,CAAZ;AAKA,IAAMC,WAAWH,IAAIG,QAArB;AACA,IAAMC,OAAOC,SAASC,cAAT,CAAwB,MAAxB,CAAb;AACA,IAAIC,YAAJ;IAASC,WAAT;AACAL,SAASM,UAAT,GAAsB,IAAtB;AACAL,KAAKM,WAAL,CAAiBV,IAAIW,IAArB;AACAC;;AAEAX,KAAKY,MAAL,CACKC,GADL,CACS,eADT,EAEKA,GAFL,CAES,gBAFT,EAGKC,IAHL,CAGUC,KAHV;;AAMAC,OAAOC,gBAAP,CAAwB,QAAxB,EAAkCN,QAAlC;AACAK,OAAOC,gBAAP,CAAwB,mBAAxB,EAA6CN,QAA7C;;AAEA,SAASI,KAAT,GAAiB;UACP,IAAIf,KAAKkB,MAAL,CAAYC,YAAhB,CACFnB,KAAKY,MAAL,CAAYQ,SAAZ,CAAsB,gBAAtB,EAAwCC,OADtC,EAEFtB,IAAIG,QAAJ,CAAaoB,KAFX,EAGFvB,IAAIG,QAAJ,CAAaqB,MAHX,CAAN;SAKK,IAAIvB,KAAKwB,MAAT,CACDxB,KAAKY,MAAL,CAAYQ,SAAZ,CAAsB,eAAtB,EAAuCC,OADtC,CAAL;OAGGI,MAAH,CAAUC,GAAV,CAAc,GAAd;OACGC,CAAH,GAAO5B,IAAIG,QAAJ,CAAaoB,KAAb,IAAsB,CAA7B;OACGM,CAAH,GAAO7B,IAAIG,QAAJ,CAAaqB,MAAb,IAAuB,CAA9B;OACGM,EAAH,GAAQ,CAAR;OACGC,EAAH,GAAQ,CAAR;;QAEIC,KAAJ,CAAUC,QAAV,CAAmB1B,GAAnB;QACIyB,KAAJ,CAAUC,QAAV,CAAmBzB,EAAnB;;QAEI0B,MAAJ,CAAWpB,GAAX,CAAe,aAAK;YACZqB,YAAJ,CAAiBN,CAAjB,IAAsB,CAAtB;WACGD,CAAH,IAAQpB,GAAGsB,EAAX;WACGD,CAAH,IAAQrB,GAAGuB,EAAX;KAHJ;;OAMGD,EAAH,GAAQ,CAAR;;QAEIM,IAAJ,GAAW,KAAX;QACIC,MAAJ,GAAa,EAAb;QACIC,KAAJ,GAAY,EAAZ;QACIN,KAAJ,CAAUO,WAAV,GAAwB,IAAxB;QACIP,KAAJ,CAAUQ,EAAV,CAAa,aAAb,EAA4B,aAAK;YACzBxC,IAAIoC,IAAR,EAAc;;;YAGVA,IAAJ,GAAW,IAAX;YACIC,MAAJ,CAAWT,CAAX,GAAea,EAAEC,IAAF,CAAOC,MAAP,CAAcf,CAA7B;YACIS,MAAJ,CAAWR,CAAX,GAAeY,EAAEC,IAAF,CAAOC,MAAP,CAAcd,CAA7B;KANJ;;QASIG,KAAJ,CAAUQ,EAAV,CAAa,aAAb,EAA4B,aAAK;YACzBF,KAAJ,CAAUV,CAAV,GAAca,EAAEC,IAAF,CAAOC,MAAP,CAAcf,CAA5B;YACIU,KAAJ,CAAUT,CAAV,GAAcY,EAAEC,IAAF,CAAOC,MAAP,CAAcd,CAA5B;YACI7B,IAAIoC,IAAR,EAAc;gBACNQ,KAAK5C,IAAIsC,KAAJ,CAAUV,CAAV,GAAc5B,IAAIqC,MAAJ,CAAWT,CAAlC;gBACIiB,KAAK7C,IAAIsC,KAAJ,CAAUT,CAAV,GAAc7B,IAAIqC,MAAJ,CAAWR,CAAlC;eACGC,EAAH,GAAQgB,KAAKC,IAAL,CAAUH,KAAK,GAAf,IAAsB,EAA9B;eACGb,EAAH,GAAQe,KAAKC,IAAL,CAAUF,KAAK,GAAf,IAAsB,EAA9B;SAJJ,MAKO;eACAf,EAAH,GAAQ,CAAR;eACGC,EAAH,GAAQ,CAAR;;KAVR;;QAcIC,KAAJ,CAAUQ,EAAV,CAAa,WAAb,EAA0B,YAAM;YACxBJ,IAAJ,GAAW,KAAX;WACGN,EAAH,GAAQ,CAAR;WACGC,EAAH,GAAQ,CAAR;KAHJ;;;AASJ,SAASnB,QAAT,GAAoB;aACPoC,MAAT,CAAgB/B,OAAOgC,UAAvB,EAAmChC,OAAOiC,WAA1C;SACKC,KAAL,CAAW5B,KAAX,GAAmBN,OAAOgC,UAAP,GAAoB,IAAvC;SACKE,KAAL,CAAW3B,MAAX,GAAoBP,OAAOiC,WAAP,GAAqB,IAAzC;QACI,CAAC3C,GAAL,EAAU;QACNgB,KAAJ,GAAYN,OAAOgC,UAAnB;QACIzB,MAAJ,GAAaP,OAAOiC,WAApB;;;;;"}